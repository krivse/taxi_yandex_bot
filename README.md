## Бот по работе со службой такси.

`python3.9.14` `aiogram2.18` 

### Описание
```angular2html
Бот реализует несколько API запросов к Yandex Taxi
    1. [POST] Запрос на получение списка водителей для авторизации;
    2. [GET] Запрос на получение текущего водителя;
    3. [PUT] Запрос на редактирование профиля водителя.
Механизм работы с ботом
    1. По команде /start необходимо ввести номер телефона, по которому будет происходить поиск в диспечерской такси;
    2. Администратору приходит уведомление с инлайн кнопками для предоставления или отклонения доступа к такси;
    3. При клике на "Добавить" пользователь записывается в бд postgres. Отправляется соответствующее сообщение с предоставлением доступа;
    4. При клике на "Отклонить" отправляется пользователю сообщение с отказом в доступе;
    5. Пользователю после авторизации будет доступы две кнопки: "Безнал", "Нал / Безнал":
    6. При клике на любую из кнопок выполняются следующие действия:
        - отправляется сначала GET-запрос к Yandex API для получения профиля водителя;
        - далее PUT-запрос для способа расчета в профиле;
        - водитель получает соответствующее уведомление:
                - Ваш лимит 15000 руб. Пока ваш баланс ниже этой суммы вам будут поступать только БЕЗНАЛИЧНЫЕ заказ
                - Ваш лимит 50 руб. Теперь вам будут поступать НАЛИЧНЫЕ и БЕЗНАЛИЧНЫЕ заказы
    7. При необходимости у Администратора есть команда для удаления пользователя из системы: /remove_user.
```
### Как запустить проект:

#### Клонировать репозиторий и перейти в него в командной строке:

```
git clone https://github.com/krivse/taxi_yandex_bot.git
```

#### Cоздать и активировать виртуальное окружение:

```
python3 -m venv venv
```

```
# для OS Lunix и MacOS
source venv/bin/activate

# для OS Windows
source venv/Scripts/activate
```

#### Установить зависимости из файла requirements.txt:

```
python3 -m pip install --upgrade pip
pip install -r requirements.txt
```
#### Запустить проект:
```angular2html
python bot.py
```


##### Ivan Krasnikov
